(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/index/index"],{2191:function(e,o,n){"use strict";var t;Object.defineProperty(o,"__esModule",{value:!0}),o.default=void 0;var c={data:function(){return{devices:[]}},onLoad:function(){wx.showModal({content:"允许获取地理位置",success:function(e){var o=this;e.confirm&&(console.log("用户点击确定"),wx.openSetting({success:function(e){var n=e.authSetting;n["scope.userLocation"]&&wx.getLocation({type:"wgs84",success:function(e){console.log("定位成功 = ",e)},fail:function(e){o.setData({errMsg:e.errMsg}),console.log(o.data),wx.showToast({title:"已取消定位服务,点击地址，可授权开启定位服务",icon:"none"})}})}}))}})},onShow:function(){t=this},methods:{blueteep:function(){console.log("打开定位权限"),wx.openBluetoothAdapter({success:function(e){t.findDevice(),t.listenBluetooth()},fail:function(e){console.log(e),wx.showToast({title:"请开启手机蓝牙",icon:"none",duration:2e3})}})},getBluetIsOk:function(){console.log("监听蓝牙是否可用"),wx.getBluetoothAdapterState({success:function(e){console.log("监听成功"),console.log(e)},fail:function(e){console.log("监听失败"),console.log(e)}})},listenBluetooth:function(){wx.onBluetoothAdapterStateChange((function(e){console.log("adapterState changed, now is",e);var o=e.available;e.discovering;o?wx.showToast({title:"开启蓝牙成功",icon:"none",duration:2e3}):wx.showToast({title:"开启蓝牙失败",icon:"none",duration:2e3})}))},search:function(){wx.onBluetoothDeviceFound((function(e){console.log("搜索新设备"),t.devices=e.devices}))},findDevice:function(){console.log("查找设备"),wx.startBluetoothDevicesDiscovery({allowDuplicatesKey:!1,interval:0,success:function(e){console.log(e),wx.showLoading({title:"正在搜索设备"}),wx.getBluetoothDevices({success:function(e){console.log(e),setTimeout((function(){wx.hideLoading()}),2e3),t.devices=e.devices,e.devices[0]&&(console.log("advertisData"),console.log(t.ab2hex(e.devices[0].advertisData)))}})},complete:function(e){console.log(e)}})},connetionBluet:function(e){console.log(e),wx.showLoading({title:"正在连接设备"}),wx.createBLEConnection({deviceId:e,setTimeout:1e4,success:function(o){console.log(o),wx.getBLEDeviceServices({deviceId:e,success:function(e){wx.hideLoading(),console.log("device services:",e.services)}})}})},ab2hex:function(e){var o=Array.prototype.map.call(new Uint8Array(e),(function(e){return("00"+e.toString(16)).slice(-2)}));return o.join("")}}};o.default=c},8597:function(e,o,n){"use strict";n.r(o);var t=n("d1f8"),c=n("a689");for(var i in c)"default"!==i&&function(e){n.d(o,e,(function(){return c[e]}))}(i);n("adb6");var s,u=n("f0c5"),a=Object(u["a"])(c["default"],t["b"],t["c"],!1,null,null,null,!1,t["a"],s);o["default"]=a.exports},a689:function(e,o,n){"use strict";n.r(o);var t=n("2191"),c=n.n(t);for(var i in t)"default"!==i&&function(e){n.d(o,e,(function(){return t[e]}))}(i);o["default"]=c.a},adb6:function(e,o,n){"use strict";var t=n("e0b9"),c=n.n(t);c.a},d1f8:function(e,o,n){"use strict";var t,c=function(){var e=this,o=e.$createElement;e._self._c},i=[];n.d(o,"b",(function(){return c})),n.d(o,"c",(function(){return i})),n.d(o,"a",(function(){return t}))},e0b9:function(e,o,n){},ea77:function(e,o,n){"use strict";(function(e){n("a662"),n("921b");t(n("66fd"));var o=t(n("8597"));function t(e){return e&&e.__esModule?e:{default:e}}e(o.default)}).call(this,n("a821")["createPage"])}},[["ea77","common/runtime","common/vendor"]]]);